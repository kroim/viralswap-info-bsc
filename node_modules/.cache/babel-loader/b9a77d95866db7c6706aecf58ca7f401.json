{"ast":null,"code":"var _jsxFileName = \"B:\\\\2021\\\\1219_ViralCoin\\\\work\\\\NewSubgraph\\\\viralswap-info-bsc\\\\src\\\\App.js\";\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { ApolloProvider } from 'react-apollo';\nimport { client } from './apollo/client';\nimport { Route, Switch, BrowserRouter, Redirect } from 'react-router-dom';\nimport GlobalPage from './pages/GlobalPage';\nimport TokenPage from './pages/TokenPage';\nimport PairPage from './pages/PairPage';\nimport { useGlobalData, useGlobalChartData } from './contexts/GlobalData';\nimport { isAddress } from './utils';\nimport AccountPage from './pages/AccountPage';\nimport AllTokensPage from './pages/AllTokensPage';\nimport AllPairsPage from './pages/AllPairsPage';\nimport PinnedData from './components/PinnedData';\nimport SideNav from './components/SideNav';\nimport AccountLookup from './pages/AccountLookup';\nimport { OVERVIEW_TOKEN_BLACKLIST, PAIR_BLACKLIST } from './constants';\nimport LocalLoader from './components/LocalLoader';\nimport { useLatestBlocks } from './contexts/Application';\nconst AppWrapper = styled.div`\n  position: relative;\n  width: 100%;\n`;\nconst ContentWrapper = styled.div`\n  display: grid;\n  grid-template-columns: ${({\n  open\n}) => open ? '220px 1fr 200px' : '220px 1fr 64px'};\n\n  @media screen and (max-width: 1400px) {\n    grid-template-columns: 220px 1fr;\n  }\n\n  @media screen and (max-width: 1080px) {\n    grid-template-columns: 1fr;\n    max-width: 100vw;\n    overflow: hidden;\n    grid-gap: 0;\n  }\n`;\nconst Right = styled.div`\n  position: fixed;\n  right: 0;\n  bottom: 0rem;\n  z-index: 99;\n  width: ${({\n  open\n}) => open ? '220px' : '64px'};\n  height: ${({\n  open\n}) => open ? 'fit-content' : '64px'};\n  overflow: auto;\n  background-color: ${({\n  theme\n}) => theme.bg1};\n  @media screen and (max-width: 1400px) {\n    display: none;\n  }\n`;\nconst Center = styled.div`\n  height: 100%;\n  z-index: 9999;\n  transition: width 0.25s ease;\n  background-color: ${({\n  theme\n}) => theme.onlyLight};\n`;\nconst WarningWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\nconst WarningBanner = styled.div`\n  background-color: ${({\n  theme\n}) => theme.bg1};\n  padding: 1.5rem;\n  color: white;\n  width: 100%;\n  text-align: center;\n  font-weight: 500;\n`;\n/**\r\n * Wrap the component with the header and sidebar pinned tab\r\n */\n\nconst LayoutWrapper = ({\n  children,\n  savedOpen,\n  setSavedOpen\n}) => {\n  return React.createElement(React.Fragment, null, React.createElement(ContentWrapper, {\n    open: savedOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(SideNav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(Center, {\n    id: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, children), React.createElement(Right, {\n    open: savedOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(PinnedData, {\n    open: savedOpen,\n    setSavedOpen: setSavedOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }))));\n};\n\nconst BLOCK_DIFFERENCE_THRESHOLD = 30;\n\nfunction App() {\n  const [savedOpen, setSavedOpen] = useState(false);\n  const globalData = useGlobalData();\n  const globalChartData = useGlobalChartData();\n  const [latestBlock, headBlock] = useLatestBlocks(); // show warning\n  // const showWarning = headBlock && latestBlock ? headBlock - latestBlock > BLOCK_DIFFERENCE_THRESHOLD : false\n\n  return React.createElement(ApolloProvider, {\n    client: client,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(AppWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, globalData && Object.keys(globalData).length > 0 && globalChartData && Object.keys(globalChartData).length > 0 ? React.createElement(BrowserRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exacts: true,\n    strict: true,\n    path: \"/token/:tokenAddress\",\n    render: ({\n      match\n    }) => {\n      if (OVERVIEW_TOKEN_BLACKLIST.includes(match.params.tokenAddress.toLowerCase())) {\n        return React.createElement(Redirect, {\n          to: \"/home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        });\n      }\n\n      if (isAddress(match.params.tokenAddress.toLowerCase())) {\n        return React.createElement(LayoutWrapper, {\n          savedOpen: savedOpen,\n          setSavedOpen: setSavedOpen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(TokenPage, {\n          address: match.params.tokenAddress.toLowerCase(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(Redirect, {\n          to: \"/home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exacts: true,\n    strict: true,\n    path: \"/pair/:pairAddress\",\n    render: ({\n      match\n    }) => {\n      if (PAIR_BLACKLIST.includes(match.params.pairAddress.toLowerCase())) {\n        return React.createElement(Redirect, {\n          to: \"/home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        });\n      }\n\n      if (isAddress(match.params.pairAddress.toLowerCase())) {\n        return React.createElement(LayoutWrapper, {\n          savedOpen: savedOpen,\n          setSavedOpen: setSavedOpen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(PairPage, {\n          pairAddress: match.params.pairAddress.toLowerCase(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(Redirect, {\n          to: \"/home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exacts: true,\n    strict: true,\n    path: \"/account/:accountAddress\",\n    render: ({\n      match\n    }) => {\n      if (isAddress(match.params.accountAddress.toLowerCase())) {\n        return React.createElement(LayoutWrapper, {\n          savedOpen: savedOpen,\n          setSavedOpen: setSavedOpen,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(AccountPage, {\n          account: match.params.accountAddress.toLowerCase(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(Redirect, {\n          to: \"/home\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(LayoutWrapper, {\n    savedOpen: savedOpen,\n    setSavedOpen: setSavedOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(GlobalPage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }))), React.createElement(Route, {\n    path: \"/tokens\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, React.createElement(LayoutWrapper, {\n    savedOpen: savedOpen,\n    setSavedOpen: setSavedOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(AllTokensPage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }))), React.createElement(Route, {\n    path: \"/pairs\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(LayoutWrapper, {\n    savedOpen: savedOpen,\n    setSavedOpen: setSavedOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(AllPairsPage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }))), React.createElement(Route, {\n    path: \"/accounts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(LayoutWrapper, {\n    savedOpen: savedOpen,\n    setSavedOpen: setSavedOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, React.createElement(AccountLookup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }))), React.createElement(Redirect, {\n    to: \"/home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }))) : React.createElement(LocalLoader, {\n    fill: \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["B:/2021/1219_ViralCoin/work/NewSubgraph/viralswap-info-bsc/src/App.js"],"names":["React","useState","styled","ApolloProvider","client","Route","Switch","BrowserRouter","Redirect","GlobalPage","TokenPage","PairPage","useGlobalData","useGlobalChartData","isAddress","AccountPage","AllTokensPage","AllPairsPage","PinnedData","SideNav","AccountLookup","OVERVIEW_TOKEN_BLACKLIST","PAIR_BLACKLIST","LocalLoader","useLatestBlocks","AppWrapper","div","ContentWrapper","open","Right","theme","bg1","Center","onlyLight","WarningWrapper","WarningBanner","LayoutWrapper","children","savedOpen","setSavedOpen","BLOCK_DIFFERENCE_THRESHOLD","App","globalData","globalChartData","latestBlock","headBlock","Object","keys","length","match","includes","params","tokenAddress","toLowerCase","pairAddress","accountAddress"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { ApolloProvider } from 'react-apollo'\r\nimport { client } from './apollo/client'\r\nimport { Route, Switch, BrowserRouter, Redirect } from 'react-router-dom'\r\nimport GlobalPage from './pages/GlobalPage'\r\nimport TokenPage from './pages/TokenPage'\r\nimport PairPage from './pages/PairPage'\r\nimport { useGlobalData, useGlobalChartData } from './contexts/GlobalData'\r\nimport { isAddress } from './utils'\r\nimport AccountPage from './pages/AccountPage'\r\nimport AllTokensPage from './pages/AllTokensPage'\r\nimport AllPairsPage from './pages/AllPairsPage'\r\nimport PinnedData from './components/PinnedData'\r\n\r\nimport SideNav from './components/SideNav'\r\nimport AccountLookup from './pages/AccountLookup'\r\nimport { OVERVIEW_TOKEN_BLACKLIST, PAIR_BLACKLIST } from './constants'\r\nimport LocalLoader from './components/LocalLoader'\r\nimport { useLatestBlocks } from './contexts/Application'\r\n\r\nconst AppWrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n`\r\nconst ContentWrapper = styled.div`\r\n  display: grid;\r\n  grid-template-columns: ${({ open }) => (open ? '220px 1fr 200px' : '220px 1fr 64px')};\r\n\r\n  @media screen and (max-width: 1400px) {\r\n    grid-template-columns: 220px 1fr;\r\n  }\r\n\r\n  @media screen and (max-width: 1080px) {\r\n    grid-template-columns: 1fr;\r\n    max-width: 100vw;\r\n    overflow: hidden;\r\n    grid-gap: 0;\r\n  }\r\n`\r\n\r\nconst Right = styled.div`\r\n  position: fixed;\r\n  right: 0;\r\n  bottom: 0rem;\r\n  z-index: 99;\r\n  width: ${({ open }) => (open ? '220px' : '64px')};\r\n  height: ${({ open }) => (open ? 'fit-content' : '64px')};\r\n  overflow: auto;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  @media screen and (max-width: 1400px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst Center = styled.div`\r\n  height: 100%;\r\n  z-index: 9999;\r\n  transition: width 0.25s ease;\r\n  background-color: ${({ theme }) => theme.onlyLight};\r\n`\r\n\r\nconst WarningWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nconst WarningBanner = styled.div`\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  padding: 1.5rem;\r\n  color: white;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-weight: 500;\r\n`\r\n\r\n/**\r\n * Wrap the component with the header and sidebar pinned tab\r\n */\r\nconst LayoutWrapper = ({ children, savedOpen, setSavedOpen }) => {\r\n  return (\r\n    <>\r\n      <ContentWrapper open={savedOpen}>\r\n        <SideNav />\r\n        <Center id=\"center\">{children}</Center>\r\n        <Right open={savedOpen}>\r\n          <PinnedData open={savedOpen} setSavedOpen={setSavedOpen} />\r\n        </Right>\r\n      </ContentWrapper>\r\n    </>\r\n  )\r\n}\r\n\r\nconst BLOCK_DIFFERENCE_THRESHOLD = 30\r\n\r\nfunction App() {\r\n  const [savedOpen, setSavedOpen] = useState(false)\r\n\r\n  const globalData = useGlobalData()\r\n  const globalChartData = useGlobalChartData()\r\n  const [latestBlock, headBlock] = useLatestBlocks()\r\n\r\n  // show warning\r\n  // const showWarning = headBlock && latestBlock ? headBlock - latestBlock > BLOCK_DIFFERENCE_THRESHOLD : false\r\n\r\n\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <AppWrapper>\r\n        {/* {showWarning && (\r\n          <WarningWrapper>\r\n            <WarningBanner>\r\n              {`The data on this site has only synced to Binance Smart Chain block ${latestBlock} (out of ${headBlock}). Please check back soon.`}\r\n            </WarningBanner>\r\n          </WarningWrapper>\r\n        )} */}\r\n        {globalData &&\r\n        Object.keys(globalData).length > 0 &&\r\n        globalChartData &&\r\n        Object.keys(globalChartData).length > 0 ? (\r\n          <BrowserRouter>\r\n            <Switch>\r\n              <Route\r\n                exacts\r\n                strict\r\n                path=\"/token/:tokenAddress\"\r\n                render={({ match }) => {\r\n                  if (OVERVIEW_TOKEN_BLACKLIST.includes(match.params.tokenAddress.toLowerCase())) {\r\n                    return <Redirect to=\"/home\" />\r\n                  }\r\n                  if (isAddress(match.params.tokenAddress.toLowerCase())) {\r\n                    return (\r\n                      <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                        <TokenPage address={match.params.tokenAddress.toLowerCase()} />\r\n                      </LayoutWrapper>\r\n                    )\r\n                  } else {\r\n                    return <Redirect to=\"/home\" />\r\n                  }\r\n                }}\r\n              />\r\n              <Route\r\n                exacts\r\n                strict\r\n                path=\"/pair/:pairAddress\"\r\n                render={({ match }) => {\r\n                  if (PAIR_BLACKLIST.includes(match.params.pairAddress.toLowerCase())) {\r\n                    return <Redirect to=\"/home\" />\r\n                  }\r\n                  if (isAddress(match.params.pairAddress.toLowerCase())) {\r\n                    return (\r\n                      <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                        <PairPage pairAddress={match.params.pairAddress.toLowerCase()} />\r\n                      </LayoutWrapper>\r\n                    )\r\n                  } else {\r\n                    return <Redirect to=\"/home\" />\r\n                  }\r\n                }}\r\n              />\r\n              <Route\r\n                exacts\r\n                strict\r\n                path=\"/account/:accountAddress\"\r\n                render={({ match }) => {\r\n                  if (isAddress(match.params.accountAddress.toLowerCase())) {\r\n                    return (\r\n                      <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                        <AccountPage account={match.params.accountAddress.toLowerCase()} />\r\n                      </LayoutWrapper>\r\n                    )\r\n                  } else {\r\n                    return <Redirect to=\"/home\" />\r\n                  }\r\n                }}\r\n              />\r\n\r\n              <Route path=\"/home\">\r\n                <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                  <GlobalPage />\r\n                </LayoutWrapper>\r\n              </Route>\r\n\r\n              <Route path=\"/tokens\">\r\n                <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                  <AllTokensPage />\r\n                </LayoutWrapper>\r\n              </Route>\r\n\r\n              <Route path=\"/pairs\">\r\n                <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                  <AllPairsPage />\r\n                </LayoutWrapper>\r\n              </Route>\r\n\r\n              <Route path=\"/accounts\">\r\n                <LayoutWrapper savedOpen={savedOpen} setSavedOpen={setSavedOpen}>\r\n                  <AccountLookup />\r\n                </LayoutWrapper>\r\n              </Route>\r\n\r\n              <Redirect to=\"/home\" />\r\n            </Switch>\r\n          </BrowserRouter>\r\n        ) : (\r\n          <LocalLoader fill=\"true\" />\r\n        )}\r\n      </AppWrapper>\r\n    </ApolloProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}